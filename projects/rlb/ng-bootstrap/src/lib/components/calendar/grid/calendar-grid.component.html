<ng-container [ngSwitch]="view">
	<ng-container *ngSwitchCase="'week'">
		<div class="table-responsive rounded" [style.max-height.rem]="maxBodyHeight" style="overflow-y:auto;">
			<table class="table table-sm m-0">
				<thead class="table-light sticky-top">
				<tr>
					<th class="text-end small px-1"></th> <!-- Placeholder -->
					<th *ngFor="let day of days" class="text-center" [class.bg-primary]="isToday(day)">
						{{ day | dtz:'DD MM' | monthFormatter }}
					</th>
				</tr>
				</thead>
				<tbody>
        <tr *ngFor="let time of timeSlots" [style.height.px]="rowHeight">
          <td class="text-center small d-flex align-items-center justify-content-center" [style.height.px]="rowHeight">
            {{ time }}
          </td>
          <td *ngFor="let day of days" class="calendar-hour-cell" [style.height.px]="rowHeight"
              (click)="onEventEdit(); $event.stopPropagation()">
            <div class="quarter-hour-line top-25"></div>
            <div class="quarter-hour-line top-50"></div>
            <div class="quarter-hour-line top-75"></div>

            <ng-container *ngFor="let event of getEventsForHour(day, time)">
              <!-- todo: extract event in component -->
              <div class="calendar-event"
                   *ngIf="!event.isOverflowIndicator"
                   [tooltip]="event.title"
                   [ngClass]="getEventClasses(event, time, day)"
                   [style.top.px]="calculateEventTop(event, time, day)"
                   [style.height.px]="calculateEventHeightInHour(event, time, day)"
                   [style.left.%]="event.left"
                   [style.width.%]="event.width"
                   (click)="onEventEdit(event); $event.stopPropagation()"
              >
                <ng-container *ngIf="isEventStartInHour(event, time, day)">
                  {{ event.title }}
                </ng-container>
              </div>
              <div *ngIf="event.isOverflowIndicator"
                   [tooltip]="'See more events'"
                   class="calendar-event overflow-indicator"
                   [ngClass]="getEventClasses(event, time, day)"
                   [style.top.px]="calculateEventTop(event, time, day)"
                   [style.height.px]="calculateEventHeightInHour(event, time, day)"
                   [style.left.%]="event.left"
                   [style.width.%]="event.width"
                   (click)="onOverflowIndicatorClick(event); $event.stopPropagation()"
              >
                <ng-container *ngIf="isEventStartInHour(event, time, day)">
                  +{{ event.overlapCount }} more
                </ng-container>
              </div>
            </ng-container>
            <div *ngIf="isCurrentDay(day) && isCurrentHour(time)"
                 class="now-line"
                 [style.top.px]="calculateNowLineTop()">
              <div class="now-line-dot"></div>
            </div>
          </td>
        </tr>
				</tbody>
			</table>
		</div>
	</ng-container>
	<ng-container *ngSwitchDefault>
		not implemented yet
	</ng-container>
</ng-container>
