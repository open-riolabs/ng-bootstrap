<div class="row" *ngIf="creationStrategy !== 'none' || title || showRefresh">
  <div class="col">
    <h3 *ngIf="title" class="float-start">{{ title }}</h3>
    <ng-container *ngIf="showRefresh">
      <button type="button" class="btn btn-outline-primary float-end mb-2 me-3" (click)="refreshItem.emit()"
        [disabled]="loading">
        <i class="fa-solid fa-arrows-rotate"></i>
      </button>
    </ng-container>
    <ng-container *ngIf="creationStrategy === 'page'">
      <button type="button" class="btn btn-outline-primary float-end mb-2 me-3" [routerLink]="creationUrl">
        <i class="fa-solid fa-plus"></i>
      </button>
    </ng-container>
    <ng-container *ngIf="creationStrategy === 'modal'">
      <button type="button" class="btn btn-outline-primary float-end mb-2 me-3" (click)="createItem.emit()">
        <i class="fa-solid fa-plus"></i>
      </button>
    </ng-container>
  </div>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <ng-container #projectedDisplayColumns></ng-container>
      <th *ngIf="hasActions">
        <span class="float-end pe-2">
          Actions
        </span>
      </th>
    </tr>
  </thead>
  <tbody>
    <ng-content *ngIf="!loading" select="rlb-dt-row" />
    <rlb-dt-row *ngIf="!loading && items?.length === 0" class="text-center">
      <rlb-dt-cell [col-span]="cols" style="border: 0">
        <ng-content select="rlb-dt-noitems" />
      </rlb-dt-cell>
    </rlb-dt-row>
    <rlb-dt-row *ngIf="loading" class="text-center">
      <rlb-dt-cell [col-span]="cols" style="border: 0">
        <ng-content select="rlb-dt-loading" />
      </rlb-dt-cell>
    </rlb-dt-row>
  </tbody>
  <tfoot *ngIf="pagination && paginationMode !== 'none'">
    <rlb-dt-row>
      <rlb-dt-cell [col-span]="hasActions ? cols+1: cols" style="border: 0">
        <button *ngIf="paginationMode === 'load-more'" type="button" class="btn btn-primary float-end btn-sm mt-2"
          [disabled]="loading" (click)="loadMore.emit()">
          {{ "common.lmore" | translate }}
        </button>
        <ng-container *ngIf="paginationMode === 'pages'">
          <nav aria-label="Page navigation example">
            <ul class="pagination float-end pagination-sm">
              <li class="page-item">
                <a class="page-link" [class.disabled]="currentPage === 1" href="#" aria-label="Previous"
                  (click)="prev($event)">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <ng-container *ngFor="let page of [].constructor(pages); let i = index">
                <li class="page-item" [class.active]="currentPage === i+1">
                  <a class="page-link" href="#" (click)="selectPage($event, i+1)">{{i+1}}</a>
                </li>
              </ng-container>
              <li class="page-item">
                <a class="page-link" [class.disabled]="currentPage === pages" href="#" aria-label="Next"
                  (click)="next($event)">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
            <ul class="ps-0 float-end me-3">
              <rlb-select size="small" [(ngModel)]="pageSize" (ngModelChange)="selectSize()"
                [disabled]="items.length === 0">
                <rlb-option [value]="10">10</rlb-option>
                <rlb-option [value]="20">20</rlb-option>
                <rlb-option [value]="50">50</rlb-option>
                <rlb-option [value]="100">100</rlb-option>
              </rlb-select>
            </ul>
          </nav>
        </ng-container>
      </rlb-dt-cell>
    </rlb-dt-row>
  </tfoot>
</table>
